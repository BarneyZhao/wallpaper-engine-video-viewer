import{d as h,r as d,w as I,E as S,o as g,c as f,a as l,b as m,e as j,u as v,f as A,t as P,g as B,h as z,F as y,i as E,n as N,j as C,k as O,l as U}from"./vendor.10b1f9e0.js";const D=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function c(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(e){if(e.ep)return;e.ep=!0;const n=c(e);fetch(e.href,n)}};D();const T=20,k=[10,20,30,40,50];var V=(p,a)=>{for(const[c,r]of a)p[c]=r;return p};const H={class:"folder-line"},Z=C("\u9009\u62E9\u6587\u4EF6\u5939"),$={class:"pagination-line"},q={class:"pic-box"},G=["src","onClick"],K={class:"pagination-line"},M=h({setup(p){console.log(window.electron);const a=d(!1),c=d(""),r=d([]),e=d(1),n=d(T),i=d([]),w=(s,t)=>s.substring(0,s.lastIndexOf("/")+1)+t,b=async()=>{const s=await window.electron.apis.selectFolder();if(console.log(s),s.success){c.value=s.data,a.value=!0;const t=new Promise(o=>setTimeout(o,500)),u=await window.electron.apis.getProjects(s.data);u.success&&(r.value=u.data,e.value=1),t.then(()=>{a.value=!1})}},x=s=>window.electron.getImg(w(s.json_path,s.preview)),F=async s=>{for(const[t,u]of s.entries()){const o=await x(u);i.value.splice(t,1,o)}},L=s=>{window.electron.apis.openFile(w(s.json_path,s.file))};return I(()=>{window.electron.apis.getProjectsByPage("",e.value,n.value).then(s=>{const t=s.data;console.log("list",t),r.value=t,i.value=new Array(t.length).fill(void 0),F(t)})}),(s,t)=>{const u=S;return g(),f(y,null,[l("div",H,[m(v(A),{size:"small",onClick:b},{default:j(()=>[Z]),_:1}),l("span",null,"path:"+P(c.value),1),B(l("span",null,null,512),[[u,a.value]])]),l("div",$,[m(v(z),{currentPage:e.value,"onUpdate:currentPage":t[0]||(t[0]=o=>e.value=o),"page-size":n.value,"onUpdate:page-size":t[1]||(t[1]=o=>n.value=o),"page-sizes":v(k),total:1e4,background:"",layout:"prev, pager, next, total, sizes"},null,8,["currentPage","page-size","page-sizes"])]),l("div",q,[(g(!0),f(y,null,E(r.value,(o,_)=>(g(),f("div",{key:_,class:"pic-item"},[l("img",{class:"img",src:i.value[_],alt:"",style:N({opacity:i.value[_]?1:0}),onClick:Q=>L(o)},null,12,G),l("p",null,P(o.title),1)]))),128)),(g(),f(y,null,E(20,o=>l("div",{key:o,class:"pic-item",style:{"margin-top":"0"}})),64))]),l("div",K,[m(v(z),{currentPage:e.value,"onUpdate:currentPage":t[2]||(t[2]=o=>e.value=o),"page-size":n.value,"onUpdate:page-size":t[3]||(t[3]=o=>n.value=o),"page-sizes":v(k),total:1e4,background:"",layout:"prev, pager, next, total, sizes"},null,8,["currentPage","page-size","page-sizes"])])],64)}}});var R=V(M,[["__scopeId","data-v-565eb73d"]]);const J=h({setup(p){return(a,c)=>(g(),O(R))}});U(J).mount("#app");
