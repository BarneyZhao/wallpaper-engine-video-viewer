import{d as P,r as v,u as S,w as N,E as B,o as f,c as _,a as r,b as y,e as C,f as u,g as O,t as z,h as U,i as k,j as E,F as w,k as L,n as j,l as D,m as T,p as V}from"./vendor.e8e458e5.js";const H=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}};H();const J=20,x=[10,20,30,40,50];var R=(g,o)=>{for(const[i,l]of o)g[i]=l;return g};const Z={class:"folder-line"},$=D("\u9009\u62E9\u6587\u4EF6\u5939"),q={class:"pagination-line"},G={class:"pic-box"},K=["src","onClick"],M={class:"pagination-line"},Q=P({setup(g){console.log(window.electron);const o=v(!1),i=v(""),l=v([]),e=v(J),t=v([]),{result:c,currentPage:p}=S(l,{pageSize:e}),h=(s,n)=>i.value+s.substring(0,s.lastIndexOf("/")+1)+n,F=async()=>{const s=await window.electron.apis.selectFolder();if(console.log(s),s.success){i.value=s.data,o.value=!0;const n=new Promise(a=>setTimeout(a,500)),d=await window.electron.apis.getProjects(s.data);d.success&&(l.value=d.data,p.value=1),n.then(()=>{o.value=!1})}},b=s=>window.electron.getImg(h(s.relativeJsonPath,s.preview)),I=async s=>{for(const[n,d]of s.entries()){const a=await b(d);t.value.splice(n,1,a)}},A=s=>{window.electron.apis.openFile(h(s.relativeJsonPath,s.file))};return N(c,()=>{t.value=new Array(c.value.length).fill(void 0),I(c.value)}),(s,n)=>{const d=B;return f(),_(w,null,[r("div",Z,[y(u(O),{size:"small",onClick:F},{default:C(()=>[$]),_:1}),r("span",null,"path:"+z(i.value),1),U(r("span",null,null,512),[[d,o.value]])]),r("div",q,[y(u(E),{currentPage:u(p),"onUpdate:currentPage":n[0]||(n[0]=a=>k(p)?p.value=a:null),"page-size":e.value,"onUpdate:page-size":n[1]||(n[1]=a=>e.value=a),"page-sizes":u(x),total:l.value.length,background:"",layout:"prev, pager, next, total, sizes"},null,8,["currentPage","page-size","page-sizes","total"])]),r("div",G,[(f(!0),_(w,null,L(u(c),(a,m)=>(f(),_("div",{key:m,class:"pic-item"},[r("img",{class:"img",src:t.value[m],alt:"",style:j({opacity:t.value[m]?1:0}),onClick:Y=>A(a)},null,12,K),r("p",null,z(a.title),1)]))),128)),(f(),_(w,null,L(20,a=>r("div",{key:a,class:"pic-item",style:{"margin-top":"0"}})),64))]),r("div",M,[y(u(E),{currentPage:u(p),"onUpdate:currentPage":n[2]||(n[2]=a=>k(p)?p.value=a:null),"page-size":e.value,"onUpdate:page-size":n[3]||(n[3]=a=>e.value=a),"page-sizes":u(x),total:l.value.length,background:"",layout:"prev, pager, next, total, sizes"},null,8,["currentPage","page-size","page-sizes","total"])])],64)}}});var W=R(Q,[["__scopeId","data-v-730ffaca"]]);const X=P({setup(g){return(o,i)=>(f(),T(W))}});V(X).mount("#app");
