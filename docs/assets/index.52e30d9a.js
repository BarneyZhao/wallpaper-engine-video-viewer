import{d as P,r as d,w as I,E as S,o as g,c as f,a as l,b as m,e as j,u as v,f as A,t as h,g as B,h as z,F as y,i as E,n as N,j as C,k as O,l as U}from"./vendor.10b1f9e0.js";const D=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function c(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerpolicy&&(s.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?s.credentials="include":e.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(e){if(e.ep)return;e.ep=!0;const s=c(e);fetch(e.href,s)}};D();const T=20,k=[10,20,30,40,50];var V=(p,a)=>{for(const[c,r]of a)p[c]=r;return p};const H={class:"folder-line"},Z=C("\u9009\u62E9\u6587\u4EF6\u5939"),$={class:"pagination-line"},q={class:"pic-box"},G=["src","onClick"],K={class:"pagination-line"},M=P({setup(p){console.log(window.electron);const a=d(!1),c=d(""),r=d([]),e=d(1),s=d(T),i=d([]),w=(t,o)=>t.substring(0,t.lastIndexOf("/")+1)+o,b=async()=>{const t=await window.electron.apis.selectFolder();if(console.log(t),t.success){c.value=t.data,a.value=!0;const o=new Promise(n=>setTimeout(n,500)),u=await window.electron.apis.getProjects(t.data);u.success&&(r.value=u.data,e.value=1),o.then(()=>{a.value=!1})}},x=t=>window.electron.getImg(w(t.jsonPath,t.preview)),F=async t=>{for(const[o,u]of t.entries()){const n=await x(u);i.value.splice(o,1,n)}},L=t=>{window.electron.apis.openFile(w(t.jsonPath,t.file))};return I(()=>{window.electron.apis.getProjectsByPage("",e.value,s.value).then(t=>{console.log("list",t),r.value=t,i.value=new Array(t.length).fill(void 0),F(t)})}),(t,o)=>{const u=S;return g(),f(y,null,[l("div",H,[m(v(A),{size:"small",onClick:b},{default:j(()=>[Z]),_:1}),l("span",null,"path:"+h(c.value),1),B(l("span",null,null,512),[[u,a.value]])]),l("div",$,[m(v(z),{currentPage:e.value,"onUpdate:currentPage":o[0]||(o[0]=n=>e.value=n),"page-size":s.value,"onUpdate:page-size":o[1]||(o[1]=n=>s.value=n),"page-sizes":v(k),total:1e4,background:"",layout:"prev, pager, next, total, sizes"},null,8,["currentPage","page-size","page-sizes"])]),l("div",q,[(g(!0),f(y,null,E(r.value,(n,_)=>(g(),f("div",{key:_,class:"pic-item"},[l("img",{class:"img",src:i.value[_],alt:"",style:N({opacity:i.value[_]?1:0}),onClick:Q=>L(n)},null,12,G),l("p",null,h(n.title),1)]))),128)),(g(),f(y,null,E(20,n=>l("div",{key:n,class:"pic-item",style:{"margin-top":"0"}})),64))]),l("div",K,[m(v(z),{currentPage:e.value,"onUpdate:currentPage":o[2]||(o[2]=n=>e.value=n),"page-size":s.value,"onUpdate:page-size":o[3]||(o[3]=n=>s.value=n),"page-sizes":v(k),total:1e4,background:"",layout:"prev, pager, next, total, sizes"},null,8,["currentPage","page-size","page-sizes"])])],64)}}});var R=V(M,[["__scopeId","data-v-3fc2d18e"]]);const J=P({setup(p){return(a,c)=>(g(),O(R))}});U(J).mount("#app");
